"""结构化的提示词"""

import json

# 读取原始JSON文件
with open('D:\\毕业设计\\data\\dataset\\abstract\\test.json', 'r', encoding='utf-8') as file:
    # 将JSON字符串转换为Python对象
    data = json.load(file)

results = []

# role = """你是司法摘要助手，请严格按照步骤进行法律文书的摘要工作!\n
# 1.首先判断案件的类型。包括继承纠纷、侵权责任纠纷、借款合同纠纷、劳动合同纠纷、租赁合同纠纷等多种类型的民事案件，例如：{原被告系**借款合同**关系。}\n
# 2.接着总结原告提起的诉求。例如：{**原告提出诉求：**被告 xxx归还原告借款本金 xx万元及利息,xxx承担连带清偿责任。}\n
# 3.继续总结被告辩称。例如：{**被告辩称：**}
# 4.然后是案件事实。例如：{**经依法查明**贷款合同和保证合同均是双方真实意思表示，合法有效,被告未按约定履行自己的义务已构成违约，应承担违约责任,保证人承担连带清偿责任……}\n
# 5.最后是判决结果摘要。例如：{依照《中华人民共和国合同法》第一百零七条、第二百零五条、《中华人民共和国担保法》第十八条、第二十一条、第三十一条、《中华人民共和国民事诉讼法》第一百四十四条规定,**判决**……}\n
# 6.最后将上述五个模块整合起来形成完整司法摘要，注意不要输出任何无关内容，严格按照上述格式输出!!!
# 下面为摘要任务：\n\n"""
#
role = """请按照下面的结构进行法律文书的摘要，分为五个部分：案件类型、原告诉求、被告辩称、案件事实、判决结果。\n\n
## 案件类型
- 通常包含以下几种：租赁合同纠纷、劳动合同纠纷、继承纠纷、借款合同纠纷、侵权责任纠纷。
- 判断并从上述案件类型中选择一种。
## 原告诉求
- 概括原告所提起的诉求。
## 被告辩称
- 需要概括被告的答辩点。
- 有可能被告未进行答辩，摘要对应部分应该为原告未进行答辩。
## 案件事实
- 法院认定或查明的事实。
- 摘要对应部分以审理查明、经法院查明等作为开始。
## 判决结果
- 依据相关法律做出的裁决。\n
以下是一个完整的摘要示例：\n
原被告系租赁合同纠纷。原告请求：依法判令被告支付原告租赁费。被告辩称，请求可待工程款要来后才能给原告支付。法院认为，原、被告间形成的租赁关系明确。被告拖欠原告租赁费未如数付清，应承担相应的法律责任；依照《中华人民共和国合同法》第六十条第一款、第一百零七条、第一百零九条、第二百二十六条，《中华人民共和国民事诉讼法》第一百三十四条的规定，判决:被告向原告支付租赁费。如果未按本判决指定的期间履行给付金钱义务，应当依照《中华人民共和国民事诉讼法》第二百五十三条之规定，加倍支付迟延履行期间的债务利息。
\n
你通过分步骤逐步完成指定任务，明确分解并依次推进各步骤。

1. 分析司法摘要任务，并设定清晰、可实现的目标以完成任务。按照逻辑顺序优先处理这些目标。
2. 请记住，在给出最终摘要结果之前，请先在 Think: 标签中进行一些必要分析。
3. 一旦你最终进行摘要任务，必须使用 Result: 标签向用户展示摘要的结果。\n

下面是你输出的格式的示例：\n
Think:{{你需要按照上述摘要任务思考的内容}}\n
Result:{{最终摘要的内容，不要包含无关内容，直接开始摘要部分的内容}}
\n
下面为需要进行摘要的文本，请注意按照上述Think和Result的流程：\n
"""


# role = """**角色：司法摘要助手**
#
# 请严格按照以下步骤进行法律文书的摘要工作！
#
# ### 1. 判断案件类型
# - **目标**：识别并明确案件的核心纠纷类型。
# - **示例**：
#   - 如果涉及借款和还款问题：“原被告系**借款合同**关系。”
#   - 如果涉及劳动合同争议：“原被告之间存在**劳动合同**关系。”
#
# ### 2. 总结原告诉求
# - **目标**：清晰地概括原告提出的全部诉求。
# - **示例**：
#   - “原告提出诉求：被告应归还原告借款本金xx万元及利息，同时承担连带清偿责任。”
#   - “原告提出诉求：要求确认与被告之间的劳动合同无效，并赔偿经济损失xx元。”
#
# ### 3. 总结被告辩称
# - **目标**：准确记录被告针对原告诉求的主要答辩点。
# - **示例**：
#   - “被告辩称：借款已按期偿还，不存在拖欠情况。”
#   - “**被告辩称：劳动合同是基于双方自愿签订，不应被视为无效。”
#   - “被告未答辩”
#
# ### 4. 记录案件事实
# - **目标**：客观描述法院查明的事实要点。
# - **示例**：
#   - “经依法查明：贷款合同和保证合同均是双方真实意思表示，合法有效。被告未按约定履行自己的义务已构成违约，应承担违约责任，保证人需承担连带清偿责任……”
#   - “经依法查明：双方签订的劳动合同符合法律规定，但被告在合同期内擅自离职，违反了合同条款。”
#
# ### 5. 摘要判决结果
# - **目标**：总结法院依据相关法律法规作出的具体判决内容。
# - **示例**：
#   - “依照《中华人民共和国合同法》第一百零七条、第二百零五条，《中华人民共和国担保法》第十八条、第二十一条、第三十一条以及《中华人民共和国民事诉讼法》第一百四十四条规定，**判决如下：** 被告应在本判决生效后十日内支付原告借款本金及利息共计xx万元，保证人承担连带清偿责任。”
#   - “依照《中华人民共和国劳动法》相关规定，**判决如下：** 确认原被告间的劳动合同有效，驳回原告其他诉讼请求。”
#
# ### 6. 整合形成完整司法摘要
# - **目标**：将上述五个部分整合为一个逻辑清晰、结构完整的司法摘要。
# - **注意事项**：确保每个部分都严格遵循格式要求，避免包含任何无关信息或个人评论。
#
# ---
#
# """

for item in data:
    # 将instruction和output作为字典存储
    result = {
        "instruction": role + item["instruction"],
        "input": "",
        "output": item["output"]
    }

    results.append(result)

results = results[:10]

with open('D:\\毕业设计\\LLaMA-Factory\\data\\sfzy_think\\test.json', 'w', encoding='utf-8') as f:
    json.dump(results, f, ensure_ascii=False, indent=4)
